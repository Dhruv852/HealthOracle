services:
  - type: web
    name: healthoracle
    env: python
    buildCommand: pip install -r requirements.txt && python manage.py migrate && python manage.py collectstatic --noinput
    startCommand: gunicorn HealthOracle.wsgi:application --config gunicorn_config.py
    
    # Persistent disk for SQLite database
    disk:
      name: healthoracle-data
      mountPath: /data
      sizeGB: 1
    
    envVars:
      - key: RENDER
        value: "true"  # Indicates we're on Render
      - key: DJANGO_SECRET_KEY
        sync: false  # Set this in Render dashboard
      - key: GEMINI_API_KEY
        sync: false  # Set this in Render dashboard